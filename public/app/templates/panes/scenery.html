<main class="layout-content">
	<h4>Diary</h4>
	<ul class="list-unstyled">
		<li class="animate--fade-in" ng-repeat="event in events" ng-show="{{ event.when }}">{{ event.contents }}</li>
	</ul>

	<div class="animate--fade-in" ng-show="game.world.cycle > 3">
		<hr />
		<h4>Thoughts</h4>
		<ul class="list-unstyled">
			<li class="animate--fade-in" ng-show="player.isHungry()">You feel pretty hungry.</li>
			<li class="animate--fade-in" ng-show="player.hasInventoryFull()">Your inventory is full.</li>
		</ul>
	</div>

	<div ng-if="player.has('wood')" ng-controller="CraftingController as crafting">
		<hr />
		<h4>Crafting</h4>

		<section class="layout-recipes">
			<recipe ng-repeat="recipe in recipes"></recipe>
		</section>
	</div>
</main>

<aside class="layout-aside list-group animate--fade-in" ng-show="game.world.cycle > 3">
	<section>
		<header class="list-group-item">
			<h4 class="list-group-item-heading">Actions</h4>
		</header>
		<a href="#" ng-click="game.getScenery().act(key, action.condition)" ng-repeat="(key, action) in game.getScenery().getActions()" ng-show="{{ action.unlock || true }}" ng-disabled="{{ action.condition || true }}" class="list-group-item">{{ action.label }}</a>
	</section>

	<section ng-hide="player.hasEmptyInventory()">
		<header class="list-group-item">
			<h4 class="list-group-item-heading">Inventory ({{ player.getInventoryCapacity() }})</h4>
		</header>
		<p ng-click="player.drop(item)" bs-tooltip="tooltip" data-placement="left" title="Click to drop" class="inventory__item list-group-item" ng-repeat="(item, quantity) in player.inventory">
			<span class="badge">{{ quantity }}</span>
			{{ item|title }}
		</p>
	</section>

	<section ng-show="game.stages.gatherFood">
		<header class="list-group-item">
			<h4 class="list-group-item-heading">Skills</h4>
		</header>
		<div class="list-group-item" ng-repeat="(skill, level) in player.skills">
			{{ skill|title }} - LVL{{ Math.floor(level) }}<br>
			<p ng-repeat="bonus in player.getSkillBonuses(skill)">
				<span class="label label-success">x{{ bonus.skills[skill] }}</span> from <strong>{{ bonus.name }}</strong>
			</p>
			<div class="progress">
				<span class="progress-bar" style="width: {{ game.skillProgress(level) }}%"></span>
			</div>
		</div>
	</section>
</aside>

